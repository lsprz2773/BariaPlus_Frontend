@if(isModalOpen){
<main (click)="onBackdropClick()" class="modal">
    <div class="modal-content" (click)="onModalClick($event)">

        <div class="right">
            <h2 class="title">Baria <span class="hl">+</span></h2>
            <img src="assets/otros/login-image.png" alt="Login Image">
        </div>

        <section class="form-wrapper">
            <div class="form-title">
                <h2>Iniciar Sesión</h2>
            </div>

            <form [formGroup]="loginForm" class="form" (ngSubmit)="onContinuar()">
                <div class="form-group">
                    <label for="email">Correo electrónico</label>
                    <input 
                        type="email" 
                        id="email" 
                        formControlName="email"
                        placeholder="Ingrese su correo" 
                        class="form-input"
                        [class.error]="email?.invalid && email?.touched">
                    
                    @if (email?.invalid && email?.touched) {
                        <span class="error-text">
                            @if (email?.errors?.['required']) {
                                El correo es requerido
                            } @else if (email?.errors?.['email']) {
                                Ingrese un correo válido
                            }
                        </span>
                    }
                </div>

                <div class="form-group">
                    <label for="password">Contraseña</label>
                    <input 
                        type="password" 
                        id="password" 
                        formControlName="password"
                        placeholder="Ingrese su contraseña" 
                        class="form-input"
                        [class.error]="password?.invalid && password?.touched">
                    
                    @if (password?.invalid && password?.touched) {
                        <span class="error-text">
                            @if (password?.errors?.['required']) {
                                La contraseña es requerida
                            } @else if (password?.errors?.['minlength']) {
                                Mínimo 6 caracteres
                            }
                        </span>
                    }
                </div>

                @if (errorMessage) {
                    <div class="alert-error">
                        {{ errorMessage }}
                    </div>
                }
            </form>

            <button 
                type="button"
                class="continue" 
                (click)="onContinuar()"
                [disabled]="isSubmitting">
                {{ isSubmitting ? 'Cargando...' : 'Continuar' }}
            </button>

            <div class="register">
                <p>¿No tienes una cuenta? </p>
                <a routerLink="/user-register" (click)="closeModal()">Regístrate</a>
            </div>

        </section>

        <button class="close-button">
            <img src="assets/iconos/arrowback-icon.png" alt="Close Icon" (click)="closeModal()">
        </button>

    </div>
</main>
}