<div class="step-container">
    <h2>Medidas Antropom√©tricas</h2>
    
    <div class="form-grid" [formGroup]="form">
        @for (field of fields; track field.name) {
        <div class="form-field">
            @if (field.type === 'select') {
            <label [for]="field.name">{{ field.label || field.placeholder }}</label>
            <select [id]="field.name" [formControlName]="field.name" [class.error]="isFieldInvalid(field.name)">
                <option value="">{{ field.placeholder }}</option>
                @for (option of field.options; track option; let i = $index) {
                <option [value]="option">{{ option }}</option>
                }
            </select>
            } @else {
            <input [id]="field.name" [formControlName]="field.name" [type]="field.type"
                [placeholder]="field.placeholder" [step]="field.step" [class.error]="isFieldInvalid(field.name)" />
            }

            @if (isFieldInvalid(field.name)) {
            <span class="error-message">Este campo es requerido</span>
            }
        </div>
        }
    </div>
</div>